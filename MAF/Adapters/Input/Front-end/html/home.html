<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa de Ãrvores FrutÃ­feras</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <h1>Mapa de Ãrvores FrutÃ­feras</h1>

  <button id="toggleSidebar" class="menu-toggle" onclick="toggleSidebar()">â˜° Menu</button>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <br><br>
    <a href="#home" onclick="mostrarMapa()">ğŸ  Home</a>
    <a href="#" onclick="mostrarTabelaArvores()">ğŸŒ² Ãrvores cadastradas</a>
    <a href="#" onclick="mostrarModalAdicionar()">ğŸŒ³ Adicionar Ãrvore</a>
    <a href="#sobre">â„¹ï¸ Sobre</a>
    <a href="#" onclick="fazerLogout()" style="color: #e74c3c; margin-top: 20px; border-top: 1px solid #444; padding-top: 20px;">
      â» Sair
    </a>
  </div>

  <div id="map"></div>

  <div id="tabelaArvores" style="display:none;">
    <div>
      <h2>Ãrvores Cadastradas</h2>

      <div class="pesquisa-container">
        <span class="lupa">ğŸ”</span>
        <input type="text" id="pesquisaArvore" placeholder="Pesquisar espÃ©cie..." onkeyup="filtrarArvores()">
      </div>

      <br><br>

      <label style="color:white; font-size:16px;">
        Tipo:
        <select id="filtroTipo" onchange="filtrarArvores()">
          <option value="">Todos</option>
          <option value="nativa">Nativa</option>
          <option value="exotica">ExÃ³tica</option>
        </select>
      </label>

      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>EspÃ©cie</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>Tipo</th>
            <th>DescriÃ§Ã£o</th>
            <th>Imagem</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>

        <tbody id="listaArvores">
          <tr>
            <td>1</td>
            <td class="especie" onclick="mostrarMiniMapa(-21.13, -44.23, 'Mangueira')">Mangueira</td>
            <td>-21.1300</td>
            <td>-44.2300</td>
            <td data-tipo="exotica">ExÃ³tica</td>
            <td class="descricao-resumida" title="Ãrvore frutÃ­fera tropical, produz manga, muito comum no Brasil.">
              Ãrvore frutÃ­fera tropical, produz...
            </td>
            <td>-</td>
            <td>
              <button onclick="editarArvore(1)">âœï¸ Editar</button>
              <button onclick="excluirArvore(1)">ğŸ—‘ï¸ Excluir</button>
            </td>
          </tr>

          <tr>
            <td>2</td>
            <td class="especie" onclick="mostrarMiniMapa(-21.129, -44.229, 'Goiabeira')">Goiabeira</td>
            <td>-21.1290</td>
            <td>-44.2290</td>
            <td data-tipo="nativa">Nativa</td>
            <td class="descricao-resumida" title="Ãrvore nativa da AmÃ©rica Tropical, produz goiaba, rica em vitamina C.">
              Ãrvore nativa da AmÃ©rica Tropical...
            </td>
            <td>-</td>
            <td>
              <button onclick="editarArvore(2)">âœï¸ Editar</button>
              <button onclick="excluirArvore(2)">ğŸ—‘ï¸ Excluir</button>
            </td>
          </tr>

          <tr>
            <td>3</td>
            <td class="especie" onclick="mostrarMiniMapa(-21.129, -44.227, 'Laranjeira')">Laranjeira</td>
            <td>-21.1290</td>
            <td>-44.2270</td>
            <td data-tipo="exotica">ExÃ³tica</td>
            <td class="descricao-resumida" title="Ãrvore cÃ­trica originÃ¡ria da Ãsia, produz laranjas, fonte de vitamina C.">
              Ãrvore cÃ­trica originÃ¡ria da Ãsia...
            </td>
            <td>-</td>
            <td>
              <button onclick="editarArvore(3)">âœï¸ Editar</button>
              <button onclick="excluirArvore(3)">ğŸ—‘ï¸ Excluir</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div id="miniMapa"></div>
  </div>

  <div id="modalAdicionar" class="modal">
    <div class="modal-content">
      <span class="fechar" onclick="fecharModal()">&times;</span>
      <h2>Cadastrar Nova Ãrvore</h2>
      <form id="formArvore">
        <input type="text" id="especie" placeholder="EspÃ©cie da Ã¡rvore" required>
        
        <select id="tipo" required>
          <option value="">Selecione o tipo</option>
          <option value="nativa">Nativa</option>
          <option value="exotica">ExÃ³tica</option>
        </select>
        
        <textarea id="descricao" placeholder="DescriÃ§Ã£o da Ã¡rvore (opcional)" rows="3"></textarea>
        
        <label for="imagem" style="color: #ecf0f1; text-align: left; display: block; margin: 10px 0 5px;">Imagem (opcional):</label>
        <input type="file" id="imagem" accept="image/*">
        
        <div class="coordenadas">
          <input type="number" id="latitude" placeholder="Latitude" step="any" required>
          <input type="number" id="longitude" placeholder="Longitude" step="any" required>
        </div>
        
        <div class="botoes-modal">
          <button type="button" onclick="capturarLocalizacao()">ğŸ“ Usar Minha LocalizaÃ§Ã£o</button>
          <button type="button" onclick="selecionarNoMapa()">ğŸ—ºï¸ Selecionar no Mapa</button>
        </div>
        
        <div class="botoes">
          <button type="submit">ğŸ’¾ Salvar Ãrvore</button>
          <button type="button" onclick="fecharModal()">âŒ Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/script.js"></script>

  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAyUFNfla-fRhxAJkq8htPn0ySFELYNb_Y&callback=initMap"></script>
</body>

</html>